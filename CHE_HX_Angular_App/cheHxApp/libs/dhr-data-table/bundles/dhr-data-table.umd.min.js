!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("primeng/api"),require("primeng/table"),require("primeng/confirmdialog"),require("primeng/inputtext"),require("@angular/common"),require("primeng/button"),require("@angular/common/http"),require("primeng/splitbutton"),require("@angular/forms"),require("primeng/paginator"),require("primeng/progressspinner")):"function"==typeof define&&define.amd?define("dhr-data-table",["exports","@angular/core","primeng/api","primeng/table","primeng/confirmdialog","primeng/inputtext","@angular/common","primeng/button","@angular/common/http","primeng/splitbutton","@angular/forms","primeng/paginator","primeng/progressspinner"],t):t((e=e||self)["dhr-data-table"]={},e.ng.core,e.api,e.table,e.confirmdialog,e.inputtext,e.ng.common,e.button,e.ng.common.http,e.splitbutton,e.ng.forms,e.paginator,e.progressspinner)}(this,(function(e,t,n,o,r,i,a,l,p,c,d,s,u){"use strict";var m=function(){function e(){}return e.ɵfac=function(t){return new(t||e)},e.ɵprov=t.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),e}();function g(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",6),t.ɵɵelementStart(1,"h4",7),t.ɵɵtext(2),t.ɵɵelement(3,"br"),t.ɵɵelementStart(4,"h5",8),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"span",9),t.ɵɵelement(7,"i",10),t.ɵɵelementStart(8,"input",11),t.ɵɵlistener("input",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext(),t.ɵɵreference(1).filterGlobal(e.target.value,"contains")})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵtextInterpolate(r.headertext),t.ɵɵadvance(3),t.ɵɵtextInterpolate(r.subHeadertext),t.ɵɵadvance(3),t.ɵɵproperty("placeholder",r.searchPlaceHolder)}}function f(e,n){if(1&e&&t.ɵɵelement(0,"p-sortIcon",17),2&e){var o=t.ɵɵnextContext().$implicit;t.ɵɵproperty("field",o.field)}}function h(e,n){if(1&e&&(t.ɵɵelementStart(0,"th",15),t.ɵɵtext(1),t.ɵɵtemplate(2,f,1,1,"p-sortIcon",16),t.ɵɵelementEnd()),2&e){var o=n.$implicit;t.ɵɵpropertyInterpolate("pSortableColumn",o.sortOpt?o.field:null),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",o.header," "),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.sortOpt)}}function w(e,n){1&e&&t.ɵɵelement(0,"th",18)}function v(e,n){if(1&e&&(t.ɵɵelementStart(0,"tr",12),t.ɵɵtemplate(1,h,3,3,"th",13),t.ɵɵtemplate(2,w,1,0,"th",14),t.ɵɵelementEnd()),2&e){var o=n.$implicit,r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.actionbtn)}}function x(e,n){if(1&e&&(t.ɵɵelementStart(0,"td"),t.ɵɵtext(1),t.ɵɵpipe(2,"date"),t.ɵɵelementEnd()),2&e){var o=n.$implicit,r=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ","date"!=o.type?r[o.field]:t.ɵɵpipeBind2(2,1,1e3*r[o.field],"short")," ")}}function b(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",28),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext(3).$implicit;return t.ɵɵnextContext().viewRow(e)})),t.ɵɵelement(1,"i",29),t.ɵɵtext(2,"  View"),t.ɵɵelementEnd()}}function y(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",28),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext(3).$implicit;return t.ɵɵnextContext().duplicateRow(e)})),t.ɵɵelement(1,"i",30),t.ɵɵtext(2,"  Duplicate"),t.ɵɵelementEnd()}}function C(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",31),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext(3).$implicit;return t.ɵɵnextContext().deleteRow(e)})),t.ɵɵelement(1,"i",32),t.ɵɵtext(2,"  Delete"),t.ɵɵelementEnd()}}function M(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",33),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext(3).$implicit;return t.ɵɵnextContext().downloadRow(e)})),t.ɵɵelement(1,"i",34),t.ɵɵtext(2,"  Download"),t.ɵɵelementEnd()}}function E(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",33),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext(3).$implicit;return t.ɵɵnextContext().shareRow(e)})),t.ɵɵelement(1,"i",35),t.ɵɵtext(2,"  Share"),t.ɵɵelementEnd()}}function O(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",24),t.ɵɵtemplate(1,b,3,0,"a",25),t.ɵɵtemplate(2,y,3,0,"a",25),t.ɵɵtemplate(3,C,3,0,"a",26),t.ɵɵtemplate(4,M,3,0,"a",27),t.ɵɵtemplate(5,E,3,0,"a",27),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.showViewAtnBtn),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.showDuplicateAtnBtn),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.showDeleteAtnBtn),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.showDownloadAtnBtn),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.showShareAtnBtn)}}function P(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"td",18),t.ɵɵelementStart(1,"button",21),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext(),n=e.$implicit,r=e.rowIndex;return t.ɵɵnextContext().showWrappedMenu(n,r)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"div",22),t.ɵɵtemplate(3,O,6,5,"div",23),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext().rowIndex,i=t.ɵɵnextContext();t.ɵɵadvance(3),t.ɵɵproperty("ngIf",r==i.rs)}}function I(e,n){if(1&e&&(t.ɵɵelementStart(0,"tr",19),t.ɵɵtemplate(1,x,3,4,"td",20),t.ɵɵtemplate(2,P,4,1,"td",14),t.ɵɵelementEnd()),2&e){var o=n.columns,r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.actionbtn)}}var D=function(){function e(e){this.confirmDialog=e,this.deleteEvent=new t.EventEmitter,this.duplicateEvent=new t.EventEmitter,this.viewEvent=new t.EventEmitter,this.downloadEvent=new t.EventEmitter,this.shareEvent=new t.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.deleteRow=function(e){var t=this;this.rs=null,document.getElementById("myDropdown")&&document.getElementById("myDropdown").remove(),this.confirmDialog.confirm({message:"This will delete "+this.contentText+' \'<span class="confrm-name">'+e.name+"</span>' from your records. You can't undo this.",header:"Delete the "+this.contentText,acceptLabel:"Delete",rejectLabel:"Cancel",acceptIcon:null,rejectIcon:null,accept:function(){t.deleteEvent.emit(e)},reject:function(){}})},e.prototype.duplicateRow=function(e){var t=this;this.rs=null,document.getElementById("myDropdown")&&document.getElementById("myDropdown").remove(),this.confirmDialog.confirm({message:'This will create a copy of condenser \'<span class="confrm-name">'+e.name+"</span>'. You will be able to edit it later.",header:"Duplicate the Condenser",acceptLabel:"Duplicate",rejectLabel:"Cancel",acceptIcon:null,rejectIcon:null,accept:function(){t.duplicateEvent.emit(e)},reject:function(){}})},e.prototype.viewRow=function(e){this.viewEvent.emit(e),this.rs=null,document.getElementById("myDropdown")&&document.getElementById("myDropdown").remove()},e.prototype.downloadRow=function(e){this.downloadEvent.emit(e),this.rs=null,document.getElementById("myDropdown")&&document.getElementById("myDropdown").remove()},e.prototype.shareRow=function(e){this.shareEvent.emit(e),this.rs=null,document.getElementById("myDropdown")&&document.getElementById("myDropdown").remove()},e.prototype.showWrappedMenu=function(e,t){null==document.querySelector(".dropdown-content")?this.rs=t:(this.rs=null,document.getElementById("myDropdown").remove())},e.prototype.printFilteredUsers=function(e){var t=new CustomEvent("dhr_table_filter_data",{detail:{load:e}});window.dispatchEvent(t)},e.prototype.customSort=function(e){console.log(e),e.data.sort((function(t,n){var o=t[e.field],r=n[e.field],i=null;if(console.log(o,r),null==o&&null!=r)i=-1;else if(null!=o&&null==r)i=1;else if(null==o&&null==r)i=0;else if(e.field.includes("updatedAt")){var a=new Date(o),l=new Date(r);i=a<l?-1:a>l?1:0}else i="string"==typeof o&&"string"==typeof r?o.localeCompare(r):o<r?-1:o>r?1:0;return e.order*i}))},e.ɵfac=function(o){return new(o||e)(t.ɵɵdirectiveInject(n.ConfirmationService))},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["dhr-data-table"]],inputs:{cols:"cols",tableData:"tableData",paginator:"paginator",searchPlaceHolder:"searchPlaceHolder",row:"row",showCurrentPageReport:"showCurrentPageReport",rowsPerPageOptions:"rowsPerPageOptions",scrollable:"scrollable",scrollHeight:"scrollHeight",styleClass:"styleClass",sortField:"sortField",sortOrder:"sortOrder",globalFilterFields:"globalFilterFields",headertext:"headertext",subHeadertext:"subHeadertext",contentText:"contentText",actionbtn:"actionbtn",showDeleteAtnBtn:"showDeleteAtnBtn",showDuplicateAtnBtn:"showDuplicateAtnBtn",showViewAtnBtn:"showViewAtnBtn",showDownloadAtnBtn:"showDownloadAtnBtn",showShareAtnBtn:"showShareAtnBtn"},outputs:{deleteEvent:"deleteEvent",duplicateEvent:"duplicateEvent",viewEvent:"viewEvent",downloadEvent:"downloadEvent",shareEvent:"shareEvent"},decls:6,vars:15,consts:[["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"columns","customSort","value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","scrollable","scrollHeight","styleClass","sortField","sortOrder","globalFilterFields","sortFunction","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["defaultFocus","none",3,"position","baseZIndex"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],[2,"margin","3px"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text",3,"placeholder","input"],[2,"font-size","13px"],[3,"pSortableColumn",4,"ngFor","ngForOf"],["style","width:5rem",4,"ngIf"],[3,"pSortableColumn"],[3,"field",4,"ngIf"],[3,"field"],[2,"width","5rem"],[2,"font-size","12px"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-success","p-mr-2",2,"position","relative",3,"click"],[1,"menuc",2,"position","absolute"],["id","myDropdown","class","dropdown-content",4,"ngIf"],["id","myDropdown",1,"dropdown-content"],["onMouseOver","this.style.color='#32cafc'","onMouseOut","this.style.color='black'",3,"click",4,"ngIf"],["onMouseOver","this.style.color='red'","onMouseOut","this.style.color='black'",3,"click",4,"ngIf"],["onMouseOver","this.style.color='#fcba03'","onMouseOut","this.style.color='black'",3,"click",4,"ngIf"],["onMouseOver","this.style.color='#32cafc'","onMouseOut","this.style.color='black'",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["aria-hidden","true",1,"fa","fa-files-o"],["onMouseOver","this.style.color='red'","onMouseOut","this.style.color='black'",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],["onMouseOver","this.style.color='#fcba03'","onMouseOut","this.style.color='black'",3,"click"],["aria-hidden","true",1,"fa","fa-download"],["aria-hidden","true",1,"fa","fa-share-alt"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"p-table",0,1),t.ɵɵlistener("sortFunction",(function(e){return n.customSort(e)}))("onFilter",(function(e){return n.printFilteredUsers(e)})),t.ɵɵtemplate(2,g,9,3,"ng-template",2),t.ɵɵtemplate(3,v,3,2,"ng-template",3),t.ɵɵtemplate(4,I,3,2,"ng-template",4),t.ɵɵelementEnd(),t.ɵɵelement(5,"p-confirmDialog",5)),2&e&&(t.ɵɵproperty("columns",n.cols)("customSort",!0)("value",n.tableData)("paginator",n.paginator)("rows",n.row)("showCurrentPageReport",n.showCurrentPageReport)("rowsPerPageOptions",n.rowsPerPageOptions)("scrollable",n.scrollable)("scrollHeight",n.scrollHeight)("styleClass",n.styleClass)("sortField",n.sortField)("sortOrder",n.sortOrder)("globalFilterFields",n.globalFilterFields),t.ɵɵadvance(5),t.ɵɵproperty("position","top")("baseZIndex",1e7))},directives:[o.Table,n.PrimeTemplate,r.ConfirmDialog,i.InputText,a.NgForOf,a.NgIf,o.SortableColumn,o.SortIcon,l.ButtonDirective],pipes:[a.DatePipe],styles:[".p-button.p-button-success[_ngcontent-%COMP%]{color:#000;background-color:Transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:0}.p-button[_ngcontent-%COMP%]:active, .p-button[_ngcontent-%COMP%]:hover{color:#ccc!important;background:no-repeat Transparent!important;border:none!important;cursor:pointer!important;overflow:hidden!important;outline:0!important}[_nghost-%COMP%]     .confrm-name{font-weight:700;font-size:14px}[_nghost-%COMP%]     .p-dialog-top .p-dialog{width:29%}[_nghost-%COMP%]     .p-dialog.p-confirm-dialog .p-confirm-dialog-message{margin:0;font-size:13px;font-weight:500}[_nghost-%COMP%]     .p-dialog .p-dialog-header{padding:.5em .5em .5em 1.5em;background:#dbe1e5}[_nghost-%COMP%]     .p-confirm-dialog .p-dialog-content{width:100%;height:6em}[_nghost-%COMP%]     .p-dialog .p-dialog-header .p-dialog-title{font-size:1em!important}[_nghost-%COMP%]     .p-dialog .p-dialog-footer .p-button .p-button-icon-left{margin-right:.5rem;display:none}[_nghost-%COMP%]     .p-dialog .p-dialog-footer{direction:rtl}[_nghost-%COMP%]     .p-confirm-dialog-accept{background:#5cb85c;color:#ceeace;border:1px solid #5cb85c}[_nghost-%COMP%]     .p-confirm-dialog-accept:hover{background:#4e994e;color:#ceeace;border:1px solid #4e994e}[_nghost-%COMP%]     .p-confirm-dialog-reject{background:#fff;color:#a1d6a1;border:1px solid #e2e2e2}[_nghost-%COMP%]     .p-confirm-dialog-reject:hover{background:#f1f1f1;color:#a1d6a1;border:1px solid #e2e2e2}[_nghost-%COMP%]    .p-button:focus{color:#ccc!important;outline:0!important;box-shadow:0 0 0 0 transparent!important}[_nghost-%COMP%]     .p-paginator{background:#f8f9fa!important;justify-content:flex-end;align-items:flex-end}[_nghost-%COMP%]     p-dropdown{z-index:1;margin-right:88%;margin-top:-2.75em}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{text-align:left;border:1px solid #e9ecef;border-width:0 0 1px;word-break:break-all;padding:0 0 0 1.5em}[_nghost-%COMP%]     .p-paginator-current{font-size:13px;height:1.8rem}[_nghost-%COMP%]     .p-paginator .p-paginator-pages .p-paginator-page{min-width:1.357rem;height:1.357rem}[_nghost-%COMP%]     .p-paginator .p-paginator-first{min-width:1.357rem;height:1.357rem}[_nghost-%COMP%]     .p-paginator .p-paginator-last{min-width:1.357rem;height:1.357rem}[_nghost-%COMP%]     .p-paginator .p-paginator-prev{min-width:1.357rem;height:1.357rem}[_nghost-%COMP%]     .p-paginator .p-paginator-next{min-width:1.357rem;height:1.357rem}.dropdown-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;text-align:center;position:fixed;background-color:#fff;width:10em;height:8em;margin-top:-2em;margin-left:-10.3em;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);transition:opacity .5s;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;display:block;padding:8px;border-bottom:1px solid #ccc;text-align:left;cursor:pointer}"]}),e}(),S=function(){function e(){}return e.ɵmod=t.ɵɵdefineNgModule({type:e}),e.ɵinj=t.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:[n.ConfirmationService],imports:[[a.CommonModule,o.TableModule,l.ButtonModule,p.HttpClientModule,c.SplitButtonModule,d.FormsModule,r.ConfirmDialogModule,s.PaginatorModule,i.InputTextModule,u.ProgressSpinnerModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(S,{declarations:[D],imports:[a.CommonModule,o.TableModule,l.ButtonModule,p.HttpClientModule,c.SplitButtonModule,d.FormsModule,r.ConfirmDialogModule,s.PaginatorModule,i.InputTextModule,u.ProgressSpinnerModule],exports:[D]}),e.DhrDataTableComponent=D,e.DhrDataTableModule=S,e.DhrDataTableService=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=dhr-data-table.umd.min.js.map