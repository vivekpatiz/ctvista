!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("ngx-echarts")):"function"==typeof define&&define.amd?define("dhr-chart",["exports","@angular/core","@angular/common","ngx-echarts"],e):e((t=t||self)["dhr-chart"]={},t.ng.core,t.ng.common,t.ngxEcharts)}(this,(function(t,e,o,i){"use strict";var n=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵprov=e.ɵɵdefineInjectable({token:t,factory:t.ɵfac,providedIn:"root"}),t}(),a=function(){function t(){}return t.prototype.ngOnInit=function(){this.loadChart(this.chartData,this.xAxisLabel,this.yAxislabel,this.chartLabel,this.chartTitle,this.showyAxisLabel,this.showToolbox,this.showToolTip,this.showxAxisLabel,this.isKpiOverView,this.color)},t.prototype.ngOnChanges=function(t){this.loadChart(this.chartData,this.xAxisLabel,this.yAxislabel,this.chartLabel,this.chartTitle,this.showyAxisLabel,this.showToolbox,this.showToolTip,this.showxAxisLabel,this.isKpiOverView,this.color)},t.prototype.ngAfterViewInit=function(){this.loadChart(this.chartData,this.xAxisLabel,this.yAxislabel,this.chartLabel,this.chartTitle,this.showyAxisLabel,this.showToolbox,this.showToolTip,this.showxAxisLabel,this.isKpiOverView,this.color)},t.prototype.loadChart=function(t,e,o,i,n,a,r,s,l,h,c){this.isMultiSeries?this.getMultiSeriesChartOptions(this.xAxisLabel,this.yAxislabel,this.chartData):this.chartOption=this.getChartOptions(t,e,o,i,n,a,r,s,l,h,c)},t.prototype.getChartOptions=function(t,e,o,i,n,a,r,s,l,h,c){var p={},x="#009DDC";return h||(p={data:[{type:"average",label:{position:"End",distance:5,formatter:function(t){return""+t.value}},lineStyle:{color:"#707070",width:2}}],symbol:"none"}),h&&(x=c),{title:{text:n,left:"left",top:"left",triggerEvent:!0,textStyle:{fontSize:13},padding:[15,10,5,10],show:!1},toolbox:{show:r,orient:"vertical",showTitle:!1,feature:{saveAsImage:{title:"Save Image"}},tooltip:{show:!0,formatter:function(t){return"<div>"+t.title+"</div>"},backgroundColor:"#222",textStyle:{fontSize:8},extraCssText:"box-shadow: 0 0 1px rgba(0, 0, 0, 0.3);"}},tooltip:{show:s,trigger:"axis",backgroundColor:"#FFFFFF",axisPointer:{type:"line",lable:{precision:1}},formatter:function(t){return'<div style=" padding: 10px 10px 20px 10px;\n          box-shadow: 2px 2px 4px 2px #aaaaaa;\n          background-color: white;">\n          <span style="color: #808080;font-size: 12px;">'+new Date(t[0].name).toString().split(" ",4).join(" ")+" "+("0"+new Date(t[0].name).getHours()).slice(-2)+":"+("0"+new Date(t[0].name).getMinutes()).slice(-2)+'</span><br>\n                  <span style="color: #333333; font-size: 12px">'+o+'</span>\n                  &nbsp;&nbsp;&nbsp;\n                  <span style="color: #333333; font-size: 14px; text-align:right; font-weight:700">'+t[0].value[1]+"&nbsp;"+e+"</span></div>"}},grid:{containLabel:!0},xAxis:{type:"category",show:l,axisLabel:{color:"#808080"},axisTick:{alignWithLabel:!0},splitNumber:1},yAxis:{type:"value",name:o,nameLocation:"middle",show:a,axisLabel:{color:"#808080"},nameTextStyle:{align:"center",verticalAlign:"bottom",lineHeight:150,fontSize:12,fontFamily:"Segoe UI",color:"#808080",fontWeight:"normal"}},legend:{left:"right",textStyle:{color:"#808080",fontSize:"10",fontWeight:"bold",align:"left"},padding:[10,70,0,0]},series:[{name:i,smooth:!1,symbol:"circle",color:x,symbolSize:2,data:t,type:"line",lineStyle:{color:c,width:2},markLine:p}]}},t.prototype.getMultiSeriesChartOptions=function(t,e,o){var i=this,n=[],a=[],r=[];e.forEach((function(t,e){n.push(t.name),n.sort(),a.push(i.generateYAxisOption(e,t)),r.push(i.generateSeriseData(e,t,o))})),this.chartOption=this.getMultiChartOptions(n,t,a,r)},t.prototype.generateYAxisOption=function(t,e){var o=40*Math.floor(t/2);return{type:"value",name:e.name,nameLocation:"center",nameGap:65,nameTextStyle:{align:"end",fontSize:12,fontFamily:"Segoe UI",color:"#808080",fontWeight:"normal"},min:e.min,max:e.max,padding:[3,0,0,0],axisLine:{onZero:!0,lineStyle:{width:2}},offset:o,axisLabel:{show:!0,formatter:"{value}"}}},t.prototype.generateSeriseData=function(t,e,o){return{name:e.name,type:"line",yAxisIndex:t,lineStyle:{width:2},markLine:{symbol:"none"},data:o[t]}},t.prototype.getMultiChartOptions=function(t,e,o,i){return{tooltip:{trigger:"axis",backgroundColor:"#FFFFFF",textStyle:{color:"#808080",fontSize:"10",fontWeight:"bold",align:"left"},axisPointer:{type:"cross",lable:{precision:1}}},toolbox:{feature:{dataZoom:{yAxisIndex:"none",title:{zoom:"Zoom",back:"Zoom Reset"}},dataView:{readOnly:!0,title:"Data View",lang:["Data View","Close"]},magicType:{show:!1,type:["line"]},restore:{title:"Restore"},saveAsImage:{title:"Save Image"}}},legend:{left:"right",textStyle:{color:"#808080",fontSize:"10",fontWeight:"bold"},padding:[10,140,0,0],data:t.sort(),icon:"circle"},xAxis:[{type:"category",data:e}],yAxis:o,series:i}},t.prototype.formatTime=function(t){var e=new o.DatePipe("en-US");return e.transform(new Date(t),"dd/MM/yyyy")+"\n"+e.transform(new Date(t),"shortTime")},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=e.ɵɵdefineComponent({type:t,selectors:[["dhr-chart"]],inputs:{chartData:"chartData",xAxisLabel:"xAxisLabel",yAxislabel:"yAxislabel",chartLabel:"chartLabel",chartTitle:"chartTitle",magicType:"magicType",saveAsImage:"saveAsImage",isMultiSeries:"isMultiSeries",showyAxisLabel:"showyAxisLabel",showToolbox:"showToolbox",showToolTip:"showToolTip",showxAxisLabel:"showxAxisLabel",isKpiOverView:"isKpiOverView",color:"color"},features:[e.ɵɵNgOnChangesFeature],decls:1,vars:2,consts:[["echarts","",3,"ngClass","options"]],template:function(t,o){1&t&&e.ɵɵelement(0,"div",0),2&t&&e.ɵɵproperty("ngClass",o.isKpiOverView?"kpiOverview":"commonChart")("options",o.chartOption)},directives:[i.NgxEchartsDirective,o.NgClass],styles:[".kpiOverview[_ngcontent-%COMP%]{height:70px!important;width:315px!important}.commonChart[_ngcontent-%COMP%]{height:auto;width:auto}"]}),t}(),r=function(){function t(){}return t.ɵmod=e.ɵɵdefineNgModule({type:t}),t.ɵinj=e.ɵɵdefineInjector({factory:function(e){return new(e||t)},imports:[[o.CommonModule,i.NgxEchartsModule.forRoot({echarts:function(){return import("echarts")}})]]}),t}();("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(r,{declarations:[a],imports:[o.CommonModule,i.NgxEchartsModule],exports:[a]}),t.DhrChartComponent=a,t.DhrChartModule=r,t.DhrChartService=n,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=dhr-chart.umd.min.js.map